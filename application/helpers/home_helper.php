<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');if (!function_exists('getSubListCategories')) {	function getSubListCategories($id)	{		$CI = &get_instance();		$data = array();		$CI->load->model('Subcategories_model');		$query = $CI->Subcategories_model->getList($id);		return $query;	}}if (!function_exists('getArrOpt')) {	function getArrOpt($model, $fncName)	{		$CI = &get_instance();		$data = array();		$CI->load->model($model);		$query = $CI->$model->$fncName();		return $query;	}}if (!function_exists('getField')) {	function getField($id, $model, $fieldName, $tbName)	{		$CI = &get_instance();		$CI->load->model($model);		$query = $CI->$model->getField($id, $fieldName, $tbName);		return $query;	}}if (!function_exists('convert_vi_to_en')) {	function convert_vi_to_en($str)	{		$str = preg_replace("/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/", 'a', $str);		$str = preg_replace("/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/", 'e', $str);		$str = preg_replace("/(ì|í|ị|ỉ|ĩ)/", 'i', $str);		$str = preg_replace("/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/", 'o', $str);		$str = preg_replace("/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/", 'u', $str);		$str = preg_replace("/(ỳ|ý|ỵ|ỷ|ỹ)/", 'y', $str);		$str = preg_replace("/(đ)/", 'd', $str);		$str = preg_replace("/(À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ)/", 'A', $str);		$str = preg_replace("/(È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ)/", 'E', $str);		$str = preg_replace("/(Ì|Í|Ị|Ỉ|Ĩ)/", 'I', $str);		$str = preg_replace("/(Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ)/", 'O', $str);		$str = preg_replace("/(Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ)/", 'U', $str);		$str = preg_replace("/(Ỳ|Ý|Ỵ|Ỷ|Ỹ)/", 'Y', $str);		$str = preg_replace("/(Đ)/", 'D', $str);		//$str = str_replace(" ", "-", str_replace("&*#39;","",$str));		return $str;	}}if (!function_exists('delComar')) {	function delComar($str)	{		return preg_replace('/,/', '', $str);	}}if(!function_exists('_substr')){	function _substr($str,$n){		if(strlen($str)<$n) return $str;		$html = substr($str,0,$n);		$html = substr($html,0,strrpos($html,' '));		return $html.'...';	}}if(!function_exists('randomkeys')) {	function randomkeys($length){		$pattern = sha1("WC1DYXB0Y2hhOiBmcmVlQ2FwIDEuNCAtIHd3dy5wdXJlbWFuZ28uY28udWs=");		$key  = $pattern{rand(0,strlen($pattern)-1)};		for($i=1;strlen($key)<$length;$i++){			$randVal = $pattern{rand(0,strlen($pattern)-1)};			if(intval($randVal) != 0){				$key .= $randVal;			}		}		return $key;	}}if(!function_exists('rand_color')) {	function rand_color(){		return rand(0, 100);	}}if(!function_exists('image_thumb')){    function image_thumb($folder_name, $image_name, $width, $subFolder){        // Get the CodeIgniter super object        $CI =& get_instance();        //echo $subFolder . $folder_name. $image_name;exit;        // Path to image thumbnail        $image_thumb = dirname('thumbs/' . $folder_name . '/' . $image_name) . '/' . $width . '_'  . $image_name;        if( ! file_exists($image_thumb))        {            // LOAD LIBRARY            $CI->load->library('image_lib');            // CONFIGURE IMAGE LIBRARY            $config['image_library']    = 'gd2';            $config['source_image']     = $subFolder . $folder_name. $image_name;            $config['allowed_types']    = 'gif|jpg|png';            $config['new_image']        = $image_thumb;            $config['maintain_ratio']   = TRUE;            //$config['height']           = $height;            $config['width']            = $width;            $CI->image_lib->initialize($config);            $CI->image_lib->resize();            $CI->image_lib->clear();        }        //echo $image_thumb;die;        // return '<img src="' . dirname($_SERVER['SCRIPT_NAME']) . '/' . $image_thumb . '" />';        return $image_thumb;    }}if(!function_exists('image_thumb_folder')){    function image_thumb_folder($folder_from, $image_name, $width, $folder_to){        // Get the CodeIgniter super object        $CI =& get_instance();        // Path to image thumbnail        $image_thumb = dirname('/thumbs/' . $folder_to . '/' . $image_name) . '/' . $image_name ;        if( ! file_exists($image_thumb))        {            // LOAD LIBRARY            $CI->load->library('image_lib');            // CONFIGURE IMAGE LIBRARY            $config['image_library']    = 'gd2';            $config['source_image']     = $folder_from. $image_name;            $config['allowed_types']    = 'gif|jpg|png';            $config['new_image']        = $image_thumb;            $config['maintain_ratio']   = TRUE;            //$config['height']           = $height;            $config['width']            = $width;            $CI->image_lib->initialize($config);            $CI->image_lib->resize();            $CI->image_lib->clear();        }        // return '<img src="' . dirname($_SERVER['SCRIPT_NAME']) . '/' . $image_thumb . '" />';        return $image_thumb;    }}/** End of file image_helper.php *//** Location: system/application/helpers/home_helper.php */if(!function_exists('get_row_via_sql')){    function get_row_via_sql($sql){        $CI = & get_instance();        $CI->contents = $CI->load->database('contents', TRUE);        $query = $CI->contents->query($sql);        if ($query->num_rows() > 0) {            return $query->result();        }else{            return null;        }    }}if(!function_exists('_substr')){    function _substr($str,$n){        if(strlen($str)<$n) return $str;        $html = substr($str,0,$n);        $html = substr($html,0,strrpos($html,' '));        return $html.'...';    }}/** * Function display_cart_cookie * @Return : number of produvts in cart */if(!function_exists('display_cart_cookie')) {    function display_cart_cookie(){        $clientCart = get_cookie('phoraovatOrder');        $CI = &get_instance();        $CI->load->model('preOrders_model');        $cartNumber = $CI->preOrders_model->getCartNumber($clientCart);        return (count($cartNumber) > 0) ? $cartNumber : 0;    }}/** * Function get current transaction from cookie * @Return : transaction from cookie */if(!function_exists('getTransactionCookie')) {    function getTransactionCookie(){        return get_cookie('phoraovatOrder');    }}?>